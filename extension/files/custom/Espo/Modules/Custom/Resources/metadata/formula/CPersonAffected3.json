{
    "beforeSaveCustomScript": "if (extraName != null) {\n    name = string\\concatenate(firstName, string\\concatenate(extraName, \" \", lastName));\n} else {\n    name = string\\concatenate(firstName,\" \", lastName);\n};\n\nif (entity\\isNew() && isThisMemberAHeadOfHousehold == true && cHouseholdId == null){\n    $householdId = record\\create(\n        \"CHousehold\", \n        \"name\", \n        string\\concatenate(\"HH - \", string\\substring(idNumber, 0, 6))\n    );\n\n    cHouseholdId =  $householdId;  \n} else if (entity\\isAttributeChanged(isThisMemberAHeadOfHousehold) && isThisMemberAHeadOfHousehold == true && cHouseholdId == null) {\n    $householdId = record\\create(\n        \"CHousehold\", \n        \"name\", \n        string\\concatenate(\"HH - \", string\\substring(idNumber, 0, 6))\n    );\n\n    cHouseholdId =  $householdId;  \n};"
}